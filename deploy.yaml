# deploy.yaml
# to validate use: deployer validate -f deploy.yaml

service:
  name: hello-world
  projectName: example
  singleton: false # implies replica = 1 & deployment strategy = recreate
  image: paulbouwer/hello-kubernetes:1.5 # {{ env "CI_COMMIT_SHA" | default "latest" }}

  ports:
    - name: http
      container: 8080
      ingress:
        paths: ["/"]
        hosts: ["example.klinkert.io"]

  resources:
    limits:
      cpu: "1"
      memory: 1Gi
    requests:
      cpu: 100m
      memory: 128Mi

  env:
    KEY1: VALUE1
    KEY2: value2

  files:
    - path: /config.yaml
      content: |
        key: value
        map:
          something: different
